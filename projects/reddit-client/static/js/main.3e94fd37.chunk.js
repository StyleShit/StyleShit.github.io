(this["webpackJsonpreddit-clone"]=this["webpackJsonpreddit-clone"]||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(7),l=a.n(c),i=a(5),o=a(1),s=a(4),m=a.n(s),u=a(8);function d(e,t){return f.apply(this,arguments)}function f(){return(f=Object(u.a)(m.a.mark((function e(t,a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://www.reddit.com",n="",a&&(n=Object.keys(a).map((function(e){return e+"="+a[e]})).join("&")),t="".concat("https://www.reddit.com","/").concat(t,".json?").concat(n),e.abrupt("return",fetch(t).then((function(e){return e.json()})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){var t=e.loadListing,a=e.listingData;function n(e){t({listing:e.target.dataset.listing})}return r.a.createElement("div",{className:"sidebar"},r.a.createElement("img",{className:"reddit-logo",alt:"reddit-logo",src:"img/reddit-logo.svg"}),r.a.createElement("ul",null,[{name:"Hot",icon:"lab la-hotjar"},{name:"New",icon:"las la-plus-circle"},{name:"Rising",icon:"las la-chart-area"},{name:"Controversial",icon:"las la-bolt"},{name:"Top",icon:"las la-trophy"}].map((function(e,t){var c,l=e.name,i=e.icon;return r.a.createElement("li",{key:t,className:(c=l,a.listing&&c===a.listing?"active":""),"data-listing":l,onClick:n},r.a.createElement("i",{className:i})," ",l)}))))}function g(e){var t,a=e.post.data,c=Object(n.useState)(!1),l=Object(o.a)(c,2),i=l[0],s=l[1],m={bg:a.link_flair_background_color,text:"light"===a.link_flair_text_color?"#FFF":"#000"};switch(a.thumbnail){case"image":case"self":case"default":t="img/default-thumb.png";break;default:t=a.thumbnail}var u,d=new Date(1e3*a.created_utc);return r.a.createElement("div",{className:"reddit-post"},r.a.createElement("img",{alt:a.title,src:t,onClick:function(e){s((function(e){return!e}))}}),r.a.createElement("div",{className:"post-text"},r.a.createElement("h3",{className:"post-title"},a.link_flair_text&&r.a.createElement("span",{className:"flair",style:{backgroundColor:m.bg,color:m.text}},a.link_flair_text),r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.reddit.com".concat(a.permalink)},a.title)),r.a.createElement("span",{className:"post-author"},r.a.createElement("span",{className:"muted"},"Submitted ",function(e){var t=Math.floor((new Date-e)/1e3),a=t/31536e3;return a>=1?Math.floor(a)+" years":(a=t/2592e3)>=1?Math.floor(a)+" months":(a=t/86400)>=1?Math.floor(a)+" days":(a=t/3600)>=1?Math.floor(a)+" hours":(a=t/60)>=1?Math.floor(a)+" minutes":Math.floor(t)+" seconds"}(d)," ago by "),r.a.createElement("i",{className:"las la-user"}),r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.reddit.com/user/".concat(a.author)},a.author))),r.a.createElement("div",{className:"post-score"},r.a.createElement("span",{className:"upvote"}),(u=a.ups)>1e6?(u/1e6).toFixed(1)+"M":u>1e3?(u/1e3).toFixed(1)+"K":u,r.a.createElement("span",{className:"downvote"})),i&&r.a.createElement("div",{className:"post-full-image"},r.a.createElement("a",{href:a.url,target:"__blank",rel:"noopener noreferrer"},r.a.createElement("img",{alt:a.title,src:a.url}))))}function h(e){var t=e.placeholder,a=e.className,c=e.onItemSelected,l=Object(n.useState)(""),i=Object(o.a)(l,2),s=i[0],m=i[1],u=Object(n.useState)([]),f=Object(o.a)(u,2),p=f[0],g=f[1],h=Object(n.useState)(-1),E=Object(o.a)(h,2),b=E[0],v=E[1],N=Object(n.useState)(!1),j=Object(o.a)(N,2),k=j[0],_=j[1];return Object(n.useEffect)((function(){if(""!==s.trim()){var e=setTimeout((function(){var e={type:"sr",q:s};_(!0),d("search",e).then((function(e){if(e.data){var t=e.data.children.slice(0,5);t=t.map((function(e){return e.data})),g(t)}_(!1)}))}),300);return function(){clearTimeout(e)}}g([])}),[s]),r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"las la-search"}),r.a.createElement("input",{type:"text",className:"autocomplete-input ".concat(a),placeholder:t,value:s,onChange:function(e){return m(e.target.value)},onKeyUp:function(e){switch(e.keyCode||e.which){case 38:v(b>0?function(e){return e-1}:p.length-1);break;case 40:b<p.length-1?v((function(e){return e+1})):v(0);break;case 13:-1!==b&&(c(p[b]),m(""),g([]),v(-1))}}}),k&&r.a.createElement("span",{className:"autocomplete-loader"}),r.a.createElement("div",{className:"autocomplete-suggestions"},p.map((function(e,t){return r.a.createElement("span",{className:"suggestion ".concat(b===t?"current-suggestion":""),onClick:function(){c(e)},key:t},r.a.createElement("img",{alt:e.display_name_prefixed,src:e.icon_img?e.icon_img:"img/default-sr-icon.png"}),e.display_name_prefixed)}))))}function E(e){var t=e.listingData,a=e.posts,n=e.loadMore,c=e.postsContainer,l=e.isLoading,i=e.loadListing;return r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"top-bar"},r.a.createElement("h2",{className:"listing-name"},t.icon&&!l&&r.a.createElement("img",{alt:"".concat(t.listing," logo"),src:t.icon}),t.listing&&!l?t.listing:"Loading..."),r.a.createElement("div",{className:"top-bar-right"},r.a.createElement("div",{className:"search-container"},r.a.createElement("form",{action:"#",onSubmit:function(e){return e.preventDefault()}},r.a.createElement(h,{className:"search-input",placeholder:"Search",onItemSelected:function(e){i({listing:e.display_name_prefixed,icon:e.icon_img?e.icon_img:"img/default-sr-icon.png"})}}))),r.a.createElement("div",{className:"profile-container"},r.a.createElement("i",{className:"las la-user"})," David"))),r.a.createElement("div",{className:"posts-container",ref:c},a.map((function(e){return r.a.createElement(g,{key:e.data.id,post:e})})),t.listing&&!l&&r.a.createElement("button",{className:"load-more-btn",onClick:n},"Load More"),l&&r.a.createElement("div",{className:"loader"})))}a(15);var b=function(){var e=Object(n.useRef)(null),t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)({}),m=Object(o.a)(s,2),u=m[0],f=m[1],g=Object(n.useState)(!0),h=Object(o.a)(g,2),b=h[0],v=h[1];function N(t){var a=t.listing,n=t.icon,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];v(!0);var c=r?{after:u.after}:{};r||l([]),d(a.toLowerCase(),c).then((function(t){r?l((function(e){return[].concat(Object(i.a)(e),Object(i.a)(t.data.children))})):(l(t.data.children),e.current.scrollTop=0),f({listing:a,after:t.data.after,icon:n}),v(!1)}))}return Object(n.useEffect)((function(){N({listing:"Hot"})}),[]),r.a.createElement("div",{className:"reddit-client-container"},r.a.createElement(p,{loadListing:N,listingData:u}),r.a.createElement(E,{listingData:u,posts:c,loadMore:function(){v(!0),N(u,!0)},postsContainer:e,isLoading:b,loadListing:N}))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(b,null)),document.getElementById("root"))},9:function(e,t,a){e.exports=a(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.3e94fd37.chunk.js.map